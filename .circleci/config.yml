version: 2.1
executors:
  get_dart_sdk:
    docker:
      - image: google/dart

jobs:
  build_mobx:
    executor: get_dart_sdk
    environment:
      - PACKAGE: mobx
    steps:
      - checkout
      - run: tool/circle_run.sh

  build_mobx_codegen:
    executor: get_dart_sdk
    environment:
      - PACKAGE: mobx_codegen
    steps:
      - checkout
      - run: tool/circle_run.sh

  build_mobx_codegen_example:
    executor: get_dart_sdk
    environment:
      - PACKAGE: mobx_codegen/example
    steps:
      - checkout
      - run: tool/circle_run.sh

workflows:
  version: 2.1
  mobx_packages:
    jobs:
      - build_mobx
      - build_mobx_codegen
      - build_mobx_codegen_example
